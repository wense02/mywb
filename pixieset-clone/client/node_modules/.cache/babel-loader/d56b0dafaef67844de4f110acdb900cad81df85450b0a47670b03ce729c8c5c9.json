{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oshea\\\\Desktop\\\\mywb\\\\pixieset-clone\\\\client\\\\src\\\\pages\\\\GalleryView.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Box, Container, Typography, Button, ImageList, ImageListItem, CircularProgress, Alert, Snackbar, Dialog, DialogTitle, DialogContent, IconButton, LinearProgress, ImageListItemBar, Menu, MenuItem, Tooltip, Zoom, Fade } from '@mui/material';\nimport { motion } from 'framer-motion';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport CloseIcon from '@mui/icons-material/Close';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport RemoveRedEyeIcon from '@mui/icons-material/RemoveRedEye';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport { useDropzone } from 'react-dropzone';\n// import { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GalleryView = () => {\n  _s();\n  var _gallery$images, _gallery$images2;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const API_URL = process.env.REACT_APP_API_URL;\n  const [gallery, setGallery] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [uploadingImages, setUploadingImages] = useState(false);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [openUploadDialog, setOpenUploadDialog] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [menuAnchorEl, setMenuAnchorEl] = useState(null);\n  const [selectedImageForMenu, setSelectedImageForMenu] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const fetchGallery = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_URL}/api/galleries/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch gallery');\n      }\n      const data = await response.json();\n      setGallery(data);\n    } catch (err) {\n      setError('Failed to load gallery');\n      console.error('Error fetching gallery:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [API_URL, id]);\n  useEffect(() => {\n    fetchGallery();\n  }, [fetchGallery]);\n  const handleLikeImage = async imageId => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_URL}/api/galleries/${id}/images/${imageId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to like image');\n      }\n      const updatedGallery = await response.json();\n      setGallery(updatedGallery);\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update like',\n        severity: 'error'\n      });\n    }\n  };\n  const handleSetAsCover = async imageUrl => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_URL}/api/galleries/${id}/cover`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          coverImage: imageUrl\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to set cover image');\n      }\n      const updatedGallery = await response.json();\n      setGallery(updatedGallery);\n      setSnackbar({\n        open: true,\n        message: 'Cover image updated successfully',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update cover image',\n        severity: 'error'\n      });\n    }\n    handleCloseMenu();\n  };\n  const handleOpenMenu = (event, image) => {\n    setMenuAnchorEl(event.currentTarget);\n    setSelectedImageForMenu(image);\n  };\n  const handleCloseMenu = () => {\n    setMenuAnchorEl(null);\n    setSelectedImageForMenu(null);\n  };\n  const onDrop = useCallback(acceptedFiles => {\n    setSelectedFiles(prev => [...prev, ...acceptedFiles]);\n  }, []);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png']\n    }\n  });\n  const handleUploadImages = async e => {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    if (selectedFiles.length === 0) return;\n    try {\n      setUploadingImages(true);\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      selectedFiles.forEach(file => {\n        formData.append('images', file);\n      });\n      const response = await fetch(`${API_URL}/api/galleries/${id}/images`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('Failed to upload images');\n      }\n      const updatedGallery = await response.json();\n      setGallery(updatedGallery);\n      setSelectedFiles([]);\n      setOpenUploadDialog(false);\n      setSnackbar({\n        open: true,\n        message: 'Images uploaded successfully!',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to upload images',\n        severity: 'error'\n      });\n      console.error('Error uploading images:', err);\n    } finally {\n      setUploadingImages(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        minHeight: '60vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this);\n  }\n  if (error || !gallery) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      sx: {\n        py: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: error || 'Gallery not found'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 22\n        }, this),\n        onClick: () => navigate('/gallery'),\n        sx: {\n          mt: 2\n        },\n        children: \"Back to Galleries\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      py: 8\n    },\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.8\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            mb: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 28\n              }, this),\n              onClick: () => navigate('/gallery'),\n              sx: {\n                mb: 2\n              },\n              children: \"Back to Galleries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              component: \"h1\",\n              sx: {\n                fontWeight: 700\n              },\n              children: gallery.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              color: \"text.secondary\",\n              children: [new Date(gallery.date).toLocaleDateString(), \" \\u2022 \", ((_gallery$images = gallery.images) === null || _gallery$images === void 0 ? void 0 : _gallery$images.length) || 0, \" images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            startIcon: /*#__PURE__*/_jsxDEV(CloudUploadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 26\n            }, this),\n            onClick: () => setOpenUploadDialog(true),\n            children: \"Upload Images\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), ((_gallery$images2 = gallery.images) === null || _gallery$images2 === void 0 ? void 0 : _gallery$images2.length) === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            textAlign: 'center',\n            py: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            color: \"text.secondary\",\n            gutterBottom: true,\n            children: \"No images in this gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            color: \"text.secondary\",\n            children: \"Upload images by clicking the button above\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(ImageList, {\n          variant: \"masonry\",\n          cols: 3,\n          gap: 16,\n          children: gallery.images.map((image, index) => /*#__PURE__*/_jsxDEV(ImageListItem, {\n            sx: {\n              cursor: 'pointer',\n              overflow: 'hidden',\n              borderRadius: 2,\n              position: 'relative',\n              '&:hover .MuiImageListItemBar-root': {\n                opacity: 1\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0\n              },\n              animate: {\n                opacity: 1\n              },\n              transition: {\n                duration: 0.5,\n                delay: index * 0.1\n              },\n              children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n                children: `${API_URL}${image.url}`\n              }, void 0, false), /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${API_URL}${image.url}`,\n                alt: image.description || `Image ${index + 1}`,\n                loading: \"lazy\",\n                style: {\n                  borderRadius: 8,\n                  width: '100%',\n                  height: 'auto',\n                  display: 'block'\n                },\n                onClick: () => {\n                  setSelectedImage(image);\n                  setPreviewOpen(true);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ImageListItemBar, {\n                sx: {\n                  background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n                  opacity: 0,\n                  transition: 'opacity 0.2s'\n                },\n                actionIcon: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    gap: 1,\n                    pr: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: \"Preview\",\n                    TransitionComponent: Zoom,\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => {\n                        setSelectedImage(image);\n                        setPreviewOpen(true);\n                      },\n                      sx: {\n                        color: 'white'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(RemoveRedEyeIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 327,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: image.isLiked ? 'Unlike' : 'Like',\n                    TransitionComponent: Zoom,\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: () => handleLikeImage(image._id),\n                      sx: {\n                        color: 'white'\n                      },\n                      children: image.isLiked ? /*#__PURE__*/_jsxDEV(FavoriteIcon, {\n                        sx: {\n                          color: '#ff1744'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 33\n                      }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                    title: \"More options\",\n                    TransitionComponent: Zoom,\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      onClick: e => handleOpenMenu(e, image),\n                      sx: {\n                        color: 'white'\n                      },\n                      children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: previewOpen,\n      onClose: () => setPreviewOpen(false),\n      maxWidth: \"xl\",\n      fullWidth: true,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        sx: {\n          p: 0,\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => setPreviewOpen(false),\n          sx: {\n            position: 'absolute',\n            right: 8,\n            top: 8,\n            bgcolor: 'rgba(0,0,0,0.5)',\n            color: 'white',\n            '&:hover': {\n              bgcolor: 'rgba(0,0,0,0.7)'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), selectedImage && /*#__PURE__*/_jsxDEV(Box, {\n          component: \"img\",\n          src: `${API_URL}${selectedImage.url}`,\n          alt: selectedImage.description,\n          sx: {\n            width: '100%',\n            height: 'auto',\n            display: 'block'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      anchorEl: menuAnchorEl,\n      open: Boolean(menuAnchorEl),\n      onClose: handleCloseMenu,\n      TransitionComponent: Fade,\n      children: /*#__PURE__*/_jsxDEV(MenuItem, {\n        onClick: () => handleSetAsCover(selectedImageForMenu === null || selectedImageForMenu === void 0 ? void 0 : selectedImageForMenu.url),\n        children: \"Set as Gallery Cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openUploadDialog,\n      onClose: () => setOpenUploadDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: [\"Upload Images\", /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => setOpenUploadDialog(false),\n          sx: {\n            position: 'absolute',\n            right: 8,\n            top: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleUploadImages,\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            ...getRootProps(),\n            sx: {\n              p: 3,\n              border: '2px dashed',\n              borderColor: isDragActive ? 'primary.main' : 'grey.300',\n              borderRadius: 2,\n              textAlign: 'center',\n              cursor: 'pointer',\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              ...getInputProps()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CloudUploadIcon, {\n              sx: {\n                fontSize: 48,\n                color: 'primary.main',\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: isDragActive ? 'Drop the images here' : 'Drag & drop images here, or click to select files'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), selectedFiles.length > 0 && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              gutterBottom: true,\n              children: [\"Selected Images (\", selectedFiles.length, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ImageList, {\n              sx: {\n                maxHeight: 200\n              },\n              cols: 4,\n              rowHeight: 100,\n              children: selectedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(ImageListItem, {\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: URL.createObjectURL(file),\n                  alt: `Selected ${index + 1}`,\n                  loading: \"lazy\",\n                  style: {\n                    height: '100%',\n                    objectFit: 'cover'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), uploadingImages && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mb: 3\n            },\n            children: /*#__PURE__*/_jsxDEV(LinearProgress, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            fullWidth: true,\n            disabled: uploadingImages || selectedFiles.length === 0,\n            children: uploadingImages ? 'Uploading...' : 'Upload Images'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: () => setSnackbar({\n        ...snackbar,\n        open: false\n      }),\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setSnackbar({\n          ...snackbar,\n          open: false\n        }),\n        severity: snackbar.severity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n};\n_s(GalleryView, \"7UnnrpON4noCcGCNseQlSgN8Iq4=\", false, function () {\n  return [useParams, useNavigate, useDropzone];\n});\n_c = GalleryView;\nexport default GalleryView;\nvar _c;\n$RefreshReg$(_c, \"GalleryView\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","Box","Container","Typography","Button","ImageList","ImageListItem","CircularProgress","Alert","Snackbar","Dialog","DialogTitle","DialogContent","IconButton","LinearProgress","ImageListItemBar","Menu","MenuItem","Tooltip","Zoom","Fade","motion","ArrowBackIcon","CloudUploadIcon","CloseIcon","FavoriteIcon","FavoriteBorderIcon","RemoveRedEyeIcon","MoreVertIcon","useDropzone","jsxDEV","_jsxDEV","Fragment","_Fragment","GalleryView","_s","_gallery$images","_gallery$images2","id","navigate","API_URL","process","env","REACT_APP_API_URL","gallery","setGallery","loading","setLoading","error","setError","uploadingImages","setUploadingImages","selectedFiles","setSelectedFiles","openUploadDialog","setOpenUploadDialog","selectedImage","setSelectedImage","previewOpen","setPreviewOpen","menuAnchorEl","setMenuAnchorEl","selectedImageForMenu","setSelectedImageForMenu","snackbar","setSnackbar","open","message","severity","fetchGallery","token","localStorage","getItem","response","fetch","headers","ok","Error","data","json","err","console","handleLikeImage","imageId","method","updatedGallery","handleSetAsCover","imageUrl","body","JSON","stringify","coverImage","handleCloseMenu","handleOpenMenu","event","image","currentTarget","onDrop","acceptedFiles","prev","getRootProps","getInputProps","isDragActive","accept","handleUploadImages","e","preventDefault","length","formData","FormData","forEach","file","append","sx","display","justifyContent","alignItems","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","py","startIcon","onClick","mt","div","initial","opacity","y","animate","transition","duration","mb","variant","component","fontWeight","title","color","Date","date","toLocaleDateString","images","textAlign","gutterBottom","cols","gap","map","index","cursor","overflow","borderRadius","position","delay","url","src","alt","description","style","width","height","background","actionIcon","pr","TransitionComponent","isLiked","_id","onClose","fullWidth","p","right","top","bgcolor","anchorEl","Boolean","onSubmit","border","borderColor","fontSize","maxHeight","rowHeight","URL","createObjectURL","objectFit","type","disabled","autoHideDuration","_c","$RefreshReg$"],"sources":["C:/Users/oshea/Desktop/mywb/pixieset-clone/client/src/pages/GalleryView.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Container,\n  Typography,\n  Button,\n  ImageList,\n  ImageListItem,\n  CircularProgress,\n  Alert,\n  Snackbar,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  IconButton,\n  LinearProgress,\n  ImageListItemBar,\n  Menu,\n  MenuItem,\n  Tooltip,\n  Zoom,\n  Fade\n} from '@mui/material';\nimport { motion } from 'framer-motion';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport CloudUploadIcon from '@mui/icons-material/CloudUpload';\nimport CloseIcon from '@mui/icons-material/Close';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport RemoveRedEyeIcon from '@mui/icons-material/RemoveRedEye';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport { useDropzone } from 'react-dropzone';\n// import { useAuth } from '../contexts/AuthContext';\n\nconst GalleryView = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const API_URL = process.env.REACT_APP_API_URL;\n\n  const [gallery, setGallery] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [uploadingImages, setUploadingImages] = useState(false);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [openUploadDialog, setOpenUploadDialog] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [menuAnchorEl, setMenuAnchorEl] = useState(null);\n  const [selectedImageForMenu, setSelectedImageForMenu] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n\n  const fetchGallery = useCallback(async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_URL}/api/galleries/${id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch gallery');\n      }\n\n      const data = await response.json();\n      setGallery(data);\n    } catch (err) {\n      setError('Failed to load gallery');\n      console.error('Error fetching gallery:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [API_URL, id]);\n\n  useEffect(() => {\n    fetchGallery();\n  }, [fetchGallery]);\n\n  const handleLikeImage = async (imageId) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_URL}/api/galleries/${id}/images/${imageId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to like image');\n      }\n\n      const updatedGallery = await response.json();\n      setGallery(updatedGallery);\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update like',\n        severity: 'error'\n      });\n    }\n  };\n\n  const handleSetAsCover = async (imageUrl) => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_URL}/api/galleries/${id}/cover`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ coverImage: imageUrl })\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to set cover image');\n      }\n\n      const updatedGallery = await response.json();\n      setGallery(updatedGallery);\n      setSnackbar({\n        open: true,\n        message: 'Cover image updated successfully',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to update cover image',\n        severity: 'error'\n      });\n    }\n    handleCloseMenu();\n  };\n\n  const handleOpenMenu = (event, image) => {\n    setMenuAnchorEl(event.currentTarget);\n    setSelectedImageForMenu(image);\n  };\n\n  const handleCloseMenu = () => {\n    setMenuAnchorEl(null);\n    setSelectedImageForMenu(null);\n  };\n\n  const onDrop = useCallback((acceptedFiles) => {\n    setSelectedFiles(prev => [...prev, ...acceptedFiles]);\n  }, []);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: {\n      'image/*': ['.jpeg', '.jpg', '.png']\n    }\n  });\n\n  const handleUploadImages = async (e) => {\n    e?.preventDefault();\n    if (selectedFiles.length === 0) return;\n\n    try {\n      setUploadingImages(true);\n      const token = localStorage.getItem('token');\n      const formData = new FormData();\n      \n      selectedFiles.forEach(file => {\n        formData.append('images', file);\n      });\n\n      const response = await fetch(`${API_URL}/api/galleries/${id}/images`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to upload images');\n      }\n\n      const updatedGallery = await response.json();\n      setGallery(updatedGallery);\n      setSelectedFiles([]);\n      setOpenUploadDialog(false);\n      setSnackbar({\n        open: true,\n        message: 'Images uploaded successfully!',\n        severity: 'success'\n      });\n    } catch (err) {\n      setSnackbar({\n        open: true,\n        message: 'Failed to upload images',\n        severity: 'error'\n      });\n      console.error('Error uploading images:', err);\n    } finally {\n      setUploadingImages(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '60vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error || !gallery) {\n    return (\n      <Container maxWidth=\"lg\" sx={{ py: 8 }}>\n        <Alert severity=\"error\">{error || 'Gallery not found'}</Alert>\n        <Button\n          startIcon={<ArrowBackIcon />}\n          onClick={() => navigate('/gallery')}\n          sx={{ mt: 2 }}\n        >\n          Back to Galleries\n        </Button>\n      </Container>\n    );\n  }\n\n  return (\n    <Box sx={{ py: 8 }}>\n      <Container maxWidth=\"lg\">\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8 }}\n        >\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 6 }}>\n            <Box>\n              <Button\n                startIcon={<ArrowBackIcon />}\n                onClick={() => navigate('/gallery')}\n                sx={{ mb: 2 }}\n              >\n                Back to Galleries\n              </Button>\n              <Typography variant=\"h3\" component=\"h1\" sx={{ fontWeight: 700 }}>\n                {gallery.title}\n              </Typography>\n              <Typography variant=\"subtitle1\" color=\"text.secondary\">\n                {new Date(gallery.date).toLocaleDateString()} • {gallery.images?.length || 0} images\n              </Typography>\n            </Box>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              startIcon={<CloudUploadIcon />}\n              onClick={() => setOpenUploadDialog(true)}\n            >\n              Upload Images\n            </Button>\n          </Box>\n\n          {gallery.images?.length === 0 ? (\n            <Box sx={{ textAlign: 'center', py: 8 }}>\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n                No images in this gallery\n              </Typography>\n              <Typography color=\"text.secondary\">\n                Upload images by clicking the button above\n              </Typography>\n            </Box>\n          ) : (\n            <ImageList variant=\"masonry\" cols={3} gap={16}>\n              {gallery.images.map((image, index) => (\n                <ImageListItem \n                  key={index}\n                  sx={{\n                    cursor: 'pointer',\n                    overflow: 'hidden',\n                    borderRadius: 2,\n                    position: 'relative',\n                    '&:hover .MuiImageListItemBar-root': {\n                      opacity: 1\n                    }\n                  }}\n                >\n                  <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition={{ duration: 0.5, delay: index * 0.1 }}\n                  >\n                    <>{`${API_URL}${image.url}`}</>\n                    <img\n                      src={`${API_URL}${image.url}`}\n                      alt={image.description || `Image ${index + 1}`}\n                      loading=\"lazy\"\n                      style={{\n                        borderRadius: 8,\n                        width: '100%',\n                        height: 'auto',\n                        display: 'block'\n                      }}\n                      onClick={() => {\n                        setSelectedImage(image);\n                        setPreviewOpen(true);\n                      }}\n                    />\n                    <ImageListItemBar\n                      sx={{\n                        background: 'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n                        opacity: 0,\n                        transition: 'opacity 0.2s',\n                      }}\n                      actionIcon={\n                        <Box sx={{ display: 'flex', gap: 1, pr: 1 }}>\n                          <Tooltip title=\"Preview\" TransitionComponent={Zoom}>\n                            <IconButton\n                              onClick={() => {\n                                setSelectedImage(image);\n                                setPreviewOpen(true);\n                              }}\n                              sx={{ color: 'white' }}\n                            >\n                              <RemoveRedEyeIcon />\n                            </IconButton>\n                          </Tooltip>\n                          <Tooltip title={image.isLiked ? 'Unlike' : 'Like'} TransitionComponent={Zoom}>\n                            <IconButton\n                              onClick={() => handleLikeImage(image._id)}\n                              sx={{ color: 'white' }}\n                            >\n                              {image.isLiked ? (\n                                <FavoriteIcon sx={{ color: '#ff1744' }} />\n                              ) : (\n                                <FavoriteBorderIcon />\n                              )}\n                            </IconButton>\n                          </Tooltip>\n                          <Tooltip title=\"More options\" TransitionComponent={Zoom}>\n                            <IconButton\n                              onClick={(e) => handleOpenMenu(e, image)}\n                              sx={{ color: 'white' }}\n                            >\n                              <MoreVertIcon />\n                            </IconButton>\n                          </Tooltip>\n                        </Box>\n                      }\n                    />\n                  </motion.div>\n                </ImageListItem>\n              ))}\n            </ImageList>\n          )}\n        </motion.div>\n      </Container>\n\n      {/* Image Preview Dialog */}\n      <Dialog\n        open={previewOpen}\n        onClose={() => setPreviewOpen(false)}\n        maxWidth=\"xl\"\n        fullWidth\n      >\n        <DialogContent sx={{ p: 0, position: 'relative' }}>\n          <IconButton\n            onClick={() => setPreviewOpen(false)}\n            sx={{\n              position: 'absolute',\n              right: 8,\n              top: 8,\n              bgcolor: 'rgba(0,0,0,0.5)',\n              color: 'white',\n              '&:hover': { bgcolor: 'rgba(0,0,0,0.7)' },\n            }}\n          >\n            <CloseIcon />\n          </IconButton>\n          {selectedImage && (\n            <Box\n              component=\"img\"\n              src={`${API_URL}${selectedImage.url}`}\n              alt={selectedImage.description}\n              sx={{\n                width: '100%',\n                height: 'auto',\n                display: 'block',\n              }}\n            />\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Image Options Menu */}\n      <Menu\n        anchorEl={menuAnchorEl}\n        open={Boolean(menuAnchorEl)}\n        onClose={handleCloseMenu}\n        TransitionComponent={Fade}\n      >\n        <MenuItem onClick={() => handleSetAsCover(selectedImageForMenu?.url)}>\n          Set as Gallery Cover\n        </MenuItem>\n      </Menu>\n\n      {/* Upload Dialog */}\n      <Dialog open={openUploadDialog} onClose={() => setOpenUploadDialog(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>\n          Upload Images\n          <IconButton\n            onClick={() => setOpenUploadDialog(false)}\n            sx={{ position: 'absolute', right: 8, top: 8 }}\n          >\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <Box component=\"form\" onSubmit={handleUploadImages} sx={{ mt: 2 }}>\n            <Box\n              {...getRootProps()}\n              sx={{\n                p: 3,\n                border: '2px dashed',\n                borderColor: isDragActive ? 'primary.main' : 'grey.300',\n                borderRadius: 2,\n                textAlign: 'center',\n                cursor: 'pointer',\n                mb: 3\n              }}\n            >\n              <input {...getInputProps()} />\n              <CloudUploadIcon sx={{ fontSize: 48, color: 'primary.main', mb: 2 }} />\n              <Typography>\n                {isDragActive\n                  ? 'Drop the images here'\n                  : 'Drag & drop images here, or click to select files'}\n              </Typography>\n            </Box>\n\n            {selectedFiles.length > 0 && (\n              <Box sx={{ mb: 3 }}>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  Selected Images ({selectedFiles.length})\n                </Typography>\n                <ImageList sx={{ maxHeight: 200 }} cols={4} rowHeight={100}>\n                  {selectedFiles.map((file, index) => (\n                    <ImageListItem key={index}>\n                      <img\n                        src={URL.createObjectURL(file)}\n                        alt={`Selected ${index + 1}`}\n                        loading=\"lazy\"\n                        style={{ height: '100%', objectFit: 'cover' }}\n                      />\n                    </ImageListItem>\n                  ))}\n                </ImageList>\n              </Box>\n            )}\n\n            {uploadingImages && (\n              <Box sx={{ mb: 3 }}>\n                <LinearProgress />\n              </Box>\n            )}\n\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              disabled={uploadingImages || selectedFiles.length === 0}\n            >\n              {uploadingImages ? 'Uploading...' : 'Upload Images'}\n            </Button>\n          </Box>\n        </DialogContent>\n      </Dialog>\n\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n      >\n        <Alert\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default GalleryView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}